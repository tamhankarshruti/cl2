# Quantum Teleportation
from qiskit import QuantumCircuit, QuantumRegister, ClassicalRegister, transpile
from qiskit.visualization import circuit_drawer, plot_histogram
from qiskit.circuit.library import QFT
from qiskit_aer import Aer
import matplotlib.pyplot as plt

q = QuantumRegister(3, 'q')     
c = ClassicalRegister(3, 'c')   
qc = QuantumCircuit(q, c)

# Prepare state |+> to teleport
qc.h(q[0])  #Apply a Hadamard to qubit q[0]. This prepares the state |+>, the state intended to be teleported.

# Entangle Alice's and Bob's qubits
qc.h(q[1])
qc.cx(q[1], q[2])
#creates an entangled pair between q[1] and q[2] (a Bell pair) by applying CNOT with q[1] as control and q[2] as target.

# Bell measurement on Alice's qubits
qc.cx(q[0], q[1])
#implement the Bell-basis measurement circuit on Alice’s qubits (q[0] & q[1])
qc.h(q[0])
qc.measure([0,1],[0,1])


# Here we measure Bob's qubit directly to check teleportation result
qc.barrier() #inserts a visual barrier to separate Alice’s operations from Bob’s.
qc.measure(q[2], c[2]) #measures Bob’s qubit into the classical bit c[2] so you can inspect the teleported state

# Draw circuit
print("Quantum Teleportation Circuit:")
print(qc.draw(output='text'))
circuit_drawer(qc, output='mpl')
plt.show()

plot_histogram(counts)
plt.show()

#This circuit shows the three-step process of quantum teleportation — preparing an unknown state, 
#creating entanglement, and performing Bell measurement. The results (c₀,c₁) from Alice’s measurement would normally 
#guide Bob’s correction operations to reconstruct the original state on q₂. 
#Here, the structure and logic of teleportation are implemented, but correction gates can be added for full accuracy.
